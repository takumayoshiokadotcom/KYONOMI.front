# KYONOMI - 気軽な飲み友募集SNS

**KYONOMI（キョノミ）** は、「今日予定が無いから誰か知り合いと飲みたいな〜、でも誘って断られるのイヤだな〜」という人のための気軽な飲み友募集SNSです。

## 🍻 プロダクト概要

### コンセプト
スポンタンに飲みに行きたい気分の時に、知り合いの中から同じように「今日飲みたい」と思っている人を見つけて、気軽にマッチングできるSNSアプリケーションです。断られる心理的ハードルを軽減し、お互いの意思が一致した時のみ連絡を取り合えるシステムを採用しています。

### ターゲットユーザー
- 20代〜40代の社会人
- 気軽に飲みに行ける知り合いがいる人
- 断られることへの心理的ハードルを感じる人
- スポンタンに予定を立てたい人

## 🚀 現在実装済みの機能

### ✅ ユーザー管理機能
- **アカウント作成・認証**: メールアドレスでの新規登録とログイン
- **プロフィール管理**: ユーザー名、自己紹介、電話番号の設定・編集
- **アカウント管理**: ログアウト機能

### ✅ フォロー機能
- **ユーザー検索**: ユーザー名での検索機能
- **フォロー申請・承認**: フォロー申請の送信と承認/拒否
- **フォロー管理**: フォロワー/フォロー中/申請中の一覧表示
- **フォロー解除**: フォロー関係の解除

### ✅ 「今日飲み」機能（コア機能）
- **意思表示機能**: ワンタップで飲み意思を表明
- **自動リセット**: 日付変更時の自動リセット機能
- **マッチング表示**: 相互フォローで「今日飲み」ONの人のみ表示
- **条件付き表示**: 自分も「今日飲み」ONの場合のみ他のユーザーを表示

### ✅ いいね・マッチング機能
- **いいね機能**: 関心のあるユーザーに「いいね」を送信
- **相互いいね検出**: 相互いいねが成立した際の自動マッチング
- **連絡先交換**: マッチ成立時の連絡先情報表示

### ✅ 通知機能
- **リアルタイム通知**: フォロー申請、いいね受信、マッチ成立の通知
- **通知一覧**: 通知の履歴表示と未読管理
- **通知バッジ**: ヘッダーでの未読通知数表示

### ✅ レスポンシブUI
- **モバイルファーストデザイン**: スマートフォンに最適化されたUI
- **TailwindCSS**: モダンで美しいデザインシステム
- **ボトムナビゲーション**: 直感的なタブ切り替え

## 🛠 技術スタック

### フロントエンド
- **HTML5**: セマンティックなマークアップ
- **CSS3**: TailwindCSS CDNを使用したスタイリング
- **JavaScript**: ES6+を使用したモダンなフロントエンド実装
- **Font Awesome**: アイコンライブラリ
- **Google Fonts**: Inter フォントファミリー

### データ管理
- **RESTful Table API**: データの永続化とCRUD操作
- **localStorage**: ユーザーセッション管理
- **JSON**: データ交換フォーマット

### 主要ライブラリ・CDN
- TailwindCSS: `https://cdn.tailwindcss.com`
- Font Awesome: `https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css`
- Google Fonts: `https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap`

## 📱 画面構成

### メイン画面
1. **ホームタブ**: 今日飲みユーザー一覧と「今日飲み」ボタン
2. **フォロータブ**: ユーザー検索、フォロー管理
3. **アカウントタブ**: プロフィール表示・編集、設定
4. **通知タブ**: 通知一覧と未読管理

### モーダル
- **プロフィール編集モーダル**: ユーザー情報の編集
- **連絡先交換モーダル**: マッチ成立時の連絡先表示

## 🗃 データモデル

### users テーブル
- `id`: ユーザーID（自動生成）
- `username`: ユーザー名（表示名）
- `email`: メールアドレス
- `password_hash`: パスワードハッシュ
- `avatar_url`: プロフィール画像URL
- `bio`: 自己紹介
- `phone`: 電話番号
- `is_drinking_today`: 今日飲みフラグ
- `last_drinking_date`: 最後に今日飲みフラグを立てた日付
- `is_active`: アカウント有効フラグ

### follows テーブル
- `id`: フォローID（自動生成）
- `follower_id`: フォローするユーザーID
- `following_id`: フォローされるユーザーID
- `status`: フォロー状態（pending/accepted/rejected/blocked）
- `requested_at`: フォロー申請日時
- `responded_at`: フォロー承認/拒否日時

### likes テーブル
- `id`: いいねID（自動生成）
- `liker_id`: いいねをしたユーザーID
- `liked_id`: いいねされたユーザーID
- `date`: いいねした日付
- `is_active`: いいね有効フラグ
- `matched`: 相互いいね成立フラグ

### notifications テーブル
- `id`: 通知ID（自動生成）
- `user_id`: 通知先ユーザーID
- `type`: 通知タイプ（follow_request/follow_accepted/like_received/match_made）
- `from_user_id`: 通知元ユーザーID
- `message`: 通知メッセージ
- `is_read`: 既読フラグ
- `created_at`: 通知作成日時

## 📋 主な機能エントリポイント（URL/パス）

### 認証・ユーザー管理
- `/` : メインページ（認証 + アプリ画面）
- 認証状態に応じて自動的に表示内容が切り替わります

### データAPI エンドポイント
- `GET tables/users` : ユーザー一覧取得
- `POST tables/users` : 新規ユーザー作成
- `GET tables/users/{id}` : 特定ユーザー取得
- `PUT tables/users/{id}` : ユーザー情報更新
- `GET tables/follows` : フォロー関係一覧
- `POST tables/follows` : フォロー申請作成
- `PATCH tables/follows/{id}` : フォロー状態更新
- `GET tables/likes` : いいね一覧
- `POST tables/likes` : いいね作成
- `GET tables/notifications` : 通知一覧
- `POST tables/notifications` : 通知作成

## 🔧 セットアップ・使用方法

### テストユーザー
アプリケーションには以下のテストユーザーが登録済みです：

1. **田中太郎** (`tanaka@example.com` / `password123`)
   - 今日飲み: OFF
   - 電話番号: 090-1234-5678

2. **佐藤花子** (`sato@example.com` / `password123`)
   - 今日飲み: ON
   - 電話番号: 080-9876-5432

3. **山田次郎** (`yamada@example.com` / `password123`)
   - 今日飲み: ON

4. **鈴木美咲** (`suzuki@example.com` / `password123`)
   - 今日飲み: OFF
   - 電話番号: 070-5555-1111

### 基本的な使用の流れ

1. **新規登録またはログイン**
   - 新規の場合: ユーザー名、メール、パスワード、自己紹介を入力
   - 既存の場合: メールアドレスとパスワードでログイン

2. **フォロー関係の構築**
   - フォロータブでユーザー検索
   - フォロー申請を送信
   - 相手の承認待ち

3. **今日飲みの利用**
   - アカウントタブまたはホーム画面で「今日飲み」をON
   - ホーム画面に相互フォローで今日飲みONのユーザーが表示

4. **マッチング**
   - 気になるユーザーに「いいね」を送信
   - 相互いいねでマッチ成立
   - 連絡先交換画面が表示

## 🚧 未実装の機能

### 次期実装予定
- **プッシュ通知**: Web Push APIを使用したリアルタイム通知
- **詳細検索**: エリア、年齢、趣味などでの絞り込み検索
- **ブロック機能**: 不適切なユーザーのブロック
- **報告機能**: 運営への報告システム

### 将来的な拡張機能
- **グループ飲み機能**: 3人以上での飲み会募集
- **店舗連携**: 飲食店の予約機能
- **レビュー機能**: 飲み仲間の評価システム
- **イベント機能**: 飲み会イベントの開催・参加
- **位置情報連携**: 近くのユーザーとのマッチング
- **チャット機能**: マッチ後の簡単なメッセージ交換

## 🔐 セキュリティ・プライバシー

### 実装済み
- **ローカルストレージ**: セッション情報の安全な管理
- **入力検証**: フォーム入力の基本的なバリデーション
- **相互フォロー制**: 知り合い同士のみのマッチング

### 本番環境で必要な追加実装
- **パスワードハッシュ化**: bcryptなどによる安全なパスワード保存
- **HTTPS通信**: 全ての通信の暗号化
- **CSRF対策**: Cross-Site Request Forgeryの防止
- **レート制限**: API呼び出しの制限
- **データ暗号化**: 個人情報の暗号化保存

## 📊 想定KPI

### ユーザー関連
- 月間アクティブユーザー数（MAU）
- 新規登録ユーザー数
- ユーザー継続率（1週間、1ヶ月）

### 機能利用関連
- 「今日飲み」ボタン押下率
- いいね送信率・相互いいね成立率
- 実際の飲み会実施率

### エンゲージメント
- 1ユーザーあたりの月間いいね数
- 連絡先交換率
- セッション時間

## 🚀 デプロイメント

アプリケーションをデプロイして公開するには、**Publishタブ**をご利用ください。ワンクリックでライブサイトとして公開できます。

## 📄 ライセンス

このプロジェクトは開発中のプロトタイプです。商用利用前には適切なライセンスの設定をお願いいたします。

## 🤝 貢献

バグ報告や機能改善の提案を歓迎いたします。プロジェクトの発展にご協力ください。

## 📧 問い合わせ

プロジェクトに関するご質問やご意見がございましたら、お気軽にお知らせください。

---

**開発日**: 2025年8月28日  
**バージョン**: 1.0.0 (MVP)  
**ステータス**: プロトタイプ完成